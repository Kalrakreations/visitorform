<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VBook</title>

<!-- CSS -->
<link rel="stylesheet" href="form-style.css">

<!-- Favicons -->
<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
<link rel="shortcut icon" href="icons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">

<meta name="theme-color" content="#f5f5f5">
</head>
<body>

<header class="site-header">
  <div class="header-left">
    <a href="#" style="text-decoration:none; color:inherit; font-weight:600;">Sahil Kalra</a> | +91 9646290118
  </div>
  <div class="theme-toggle">
    <input type="checkbox" id="darkModeSwitch">
    <label for="darkModeSwitch" class="switch"></label>
  </div>
</header>

<main class="form-container">
  <h1>Visitor Form</h1>
  <form id="visitorForm" autocomplete="off">
    <!-- Event Name -->
    <div class="input-container">
      <input type="text" name="eventName" id="eventName" placeholder=" ">
      <label for="eventName">Event Name</label>
    </div>

    <!-- Name -->
    <div class="input-container">
      <input type="text" name="name" id="name" placeholder=" " required>
      <label for="name">Name *</label>
    </div>

    <!-- Phone -->
    <div class="input-container">
      <input type="tel" name="phone" id="phone" placeholder=" " required>
      <label for="phone">Phone *</label>
    </div>

    <!-- Email -->
    <div class="input-container">
      <input type="email" name="email" id="email" placeholder=" ">
      <label for="email">Email</label>
    </div>

    <!-- Company -->
    <div class="input-container">
      <input type="text" name="company" id="company" placeholder=" ">
      <label for="company">Company</label>
    </div>

    <!-- Designation -->
    <div class="input-container">
      <select id="designation" name="designation">
        <option value="">Select Designation</option>
        <option value="Executive">Executive</option>
        <option value="Manager">Manager</option>
        <option value="CEO">CEO</option>
        <option value="Founder">Founder</option>
        <option value="Other">Other</option>
      </select>
      <input type="text" id="designationOther" name="designationOther" placeholder="Enter designation" style="display:none;">
      <label for="designation">Designation</label>
    </div>

    <!-- Country -->
    <div class="input-container">
      <select id="country" name="country">
        <!-- Options populated by JS -->
      </select>
      <input type="text" id="countryOther" name="countryOther" placeholder="Enter country" style="display:none;">
      <label for="country">Country</label>
    </div>

    <!-- State -->
    <div class="input-container">
      <select id="state" name="state">
        <!-- Options populated by JS -->
      </select>
      <input type="text" id="stateOther" name="stateOther" placeholder="Enter state" style="display:none;">
      <label for="state">State</label>
    </div>

    <!-- City -->
    <div class="input-container">
      <select id="city" name="city">
        <!-- Options populated by JS -->
      </select>
      <input type="text" id="cityOther" name="cityOther" placeholder="Enter city" style="display:none;">
      <label for="city">City</label>
    </div>

    <!-- Business Type -->
    <div class="input-container">
      <select id="business" name="business">
        <option value="">Select Business</option>
        <option value="Employee">Employee</option>
        <option value="Trader">Trader</option>
        <option value="Exporter">Exporter</option>
        <option value="E-commerce">E-commerce</option>
        <option value="Certification Services">Certification Services</option>
        <option value="Other">Other</option>
      </select>
      <input type="text" id="businessOther" name="businessOther" placeholder="Enter business type" style="display:none;">
      <label for="business">Business Type</label>
    </div>

    <!-- Visiting Card Front -->
    <div class="input-container">
      <input type="file" name="vcFront" id="vcFront" accept="image/*">
      <label for="vcFront">Visiting Card (Front)</label>
    </div>

    <!-- Visiting Card Back -->
    <div class="input-container">
      <input type="file" name="vcBack" id="vcBack" accept="image/*">
      <label for="vcBack">Visiting Card (Back)</label>
    </div>

    <!-- Remarks / Comments -->
    <div class="input-container">
      <textarea id="remarks" name="remarks" placeholder=" " rows="3"></textarea>
      <label for="remarks">Remarks / Comments</label>
    </div>

    <!-- Hidden Location Inputs -->
    <input type="hidden" id="latitude" name="latitude">
    <input type="hidden" id="longitude" name="longitude">

    <button type="submit" class="submit-btn">Submit</button>
  </form>
</main>

<!-- Popup -->
<div id="formPopup" class="form-popup">Form submitted successfully!</div>

<!-- JS -->
<script>
  // ==============================
  // States and Cities dataset
  // ==============================
  const statesAndCities = {
    "Andhra Pradesh": ["Visakhapatnam","Vijayawada","Guntur","Nellore","Tirupati"],
    "Arunachal Pradesh": ["Itanagar","Naharlagun","Pasighat"],
    "Assam": ["Guwahati","Dibrugarh","Silchar","Jorhat"],
    "Bihar": ["Patna","Gaya","Bhagalpur","Muzaffarpur"],
    "Chhattisgarh": ["Raipur","Bilaspur","Durg","Korba"],
    "Goa": ["Panaji","Margao","Vasco da Gama"],
    "Gujarat": ["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar"],
    "Haryana": ["Gurugram","Faridabad","Panipat","Hisar"],
    "Himachal Pradesh": ["Shimla","Dharamshala","Mandi","Solan"],
    "Jharkhand": ["Ranchi","Jamshedpur","Dhanbad","Bokaro"],
    "Karnataka": ["Bengaluru","Mysuru","Hubballi","Mangaluru"],
    "Kerala": ["Thiruvananthapuram","Kochi","Kozhikode","Thrissur"],
    "Madhya Pradesh": ["Bhopal","Indore","Gwalior","Jabalpur","Ujjain"],
    "Maharashtra": ["Mumbai","Pune","Nagpur","Nashik","Aurangabad"],
    "Manipur": ["Imphal","Thoubal","Bishnupur"],
    "Meghalaya": ["Shillong","Tura","Nongpoh"],
    "Mizoram": ["Aizawl","Lunglei","Champhai"],
    "Nagaland": ["Kohima","Dimapur","Mokokchung"],
    "Odisha": ["Bhubaneswar","Cuttack","Rourkela","Sambalpur"],
    "Punjab": ["Amritsar","Ludhiana","Jalandhar","Patiala","Bathinda"],
    "Rajasthan": ["Jaipur","Jodhpur","Udaipur","Kota","Ajmer"],
    "Sikkim": ["Gangtok","Geyzing","Namchi"],
    "Tamil Nadu": ["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Erode"],
    "Telangana": ["Hyderabad","Warangal","Nizamabad"],
    "Tripura": ["Agartala","Udaipur","Dharmanagar"],
    "Uttar Pradesh": ["Lucknow","Kanpur","Agra","Varanasi","Ghaziabad","Meerut","Noida"],
    "Uttarakhand": ["Dehradun","Haridwar","Roorkee"],
    "West Bengal": ["Kolkata","Howrah","Durgapur","Siliguri","Asansol"],
    "Chandigarh": ["Chandigarh","New Chandigarh"]
  };

  const countrySelect = document.getElementById("country");
  const stateSelect = document.getElementById("state");
  const citySelect = document.getElementById("city");

  // Populate countries
  function populateCountries() {
    const countries = ["India","United States","United Kingdom","Canada","Australia","Other"];
    countrySelect.innerHTML = "";
    countries.forEach(c => {
      const selected = c === "India" ? "selected" : "";
      countrySelect.insertAdjacentHTML('beforeend', `<option value="${c}" ${selected}>${c}</option>`);
    });
  }

  // Populate states based on selected country
  function populateStates() {
    stateSelect.innerHTML = "";
    const country = countrySelect.value;
    if(country === "India") {
      Object.keys(statesAndCities).forEach(state => {
        stateSelect.insertAdjacentHTML('beforeend', `<option value="${state}">${state}</option>`);
      });
      stateSelect.insertAdjacentHTML('beforeend', `<option value="Other">Other</option>`);
    } else {
      stateSelect.insertAdjacentHTML('beforeend', `<option value="Other">Other</option>`);
    }
    populateCities(); // populate cities for first state
  }

  // Populate cities based on selected state
  function populateCities() {
    citySelect.innerHTML = "";
    const selectedState = stateSelect.value;
    if(statesAndCities[selectedState]){
      statesAndCities[selectedState].forEach(city => {
        citySelect.insertAdjacentHTML('beforeend', `<option value="${city}">${city}</option>`);
      });
    }
    citySelect.insertAdjacentHTML('beforeend', `<option value="Other">Other</option>`);
  }

  // Event Listeners
  countrySelect.addEventListener('change', populateStates);
  stateSelect.addEventListener('change', populateCities);

  // Initialize
  populateCountries();
  populateStates();

</script>
</body>
</html>
